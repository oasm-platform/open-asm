<html>
  <head>
    <meta charset='utf-8' />
    <script src='https://cdn.tailwindcss.com'></script>
    <script src='https://cdn.jsdelivr.net/npm/chart.js'></script>
    <link
      href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap'
      rel='stylesheet'
    />
    <style>
      .report-page {
        font-family: 'Inter', sans-serif;
        padding: 1.5cm;
        min-height: auto;
        position: relative;
        background: white;
        display: flex;
        flex-direction: column;
        margin: 0 auto;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
      }
      @media print {
        .report-page {
          min-height: 29.7cm;
          box-shadow: none;
        }
      }
      section {
        page-break-inside: avoid;
        margin-bottom: 2.5rem;
      }
      .chart-container {
        position: relative;
        height: 250px;
        width: 100%;
      }
    </style>
  </head>
  <body class='text-slate-900'>
    <div class='report-page relative overflow-hidden'>
      <!-- Decorative Corner -->
      <div
        class='absolute top-0 right-0 w-64 h-64 bg-indigo-50/50 rounded-bl-[200px] -mr-32 -mt-32 pointer-events-none'
      ></div>

      <!-- Header -->
      <div
        class='flex justify-between items-start border-b-[2px] border-slate-800 pb-10 mb-10'
      >
        <div class='flex-1 mr-8'>
          <h1
            class='text-5xl font-black uppercase tracking-tighter text-slate-800 mb-6 leading-none'
          >
            Security Assessment<br />Report
          </h1>
          <div class='space-y-4'>
            <h2
              class='text-3xl font-bold text-indigo-600 leading-tight'
            >{{hbsInput
                'name'
                report.name
                'text-3xl font-bold text-indigo-600'
              }}</h2>
            <p
              class='text-base text-slate-500 max-w-2xl leading-relaxed'
            >{{hbsTextarea
                'description'
                report.description
                'text-base text-slate-500'
              }}</p>
          </div>
        </div>
      </div>

      <section>
        <h2
          class='text-3xl font-extrabold border-b-2 border-slate-200 pb-3 mb-12 text-slate-800 uppercase tracking-wide'
        >
          IV. Infrastructure & Operational Posture
        </h2>

        <div
          class='bg-gradient-to-br from-indigo-50/50 via-white to-indigo-50/30 p-12 rounded-[3rem] border border-indigo-100 mb-12 flex flex-row gap-12 shadow-xl shadow-indigo-900/5 relative overflow-hidden'
        >
          <div
            class='absolute -right-20 -top-20 w-64 h-64 bg-indigo-500/5 rounded-full blur-3xl'
          ></div>
          <div class='flex-1'>
            <div class='flex items-center gap-4 mb-8'>
              <div
                class='bg-indigo-600 p-3 rounded-2xl shadow-lg shadow-indigo-200'
              >
                <svg
                  class='w-6 h-6 text-white'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10'
                  ></path></svg>
              </div>
              <h3
                class='text-2xl font-black text-slate-800 tracking-tight'
              >Infrastructure Security Scorecard</h3>
            </div>
            <div
              class='bg-white/80 backdrop-blur-md p-8 rounded-3xl border border-white shadow-sm'
            >
              <div class='chart-container'>
                <canvas id='postureChart'></canvas>
              </div>
            </div>
          </div>

          <div
            class='w-1/3 bg-slate-900 p-8 rounded-[2rem] border border-slate-800 shadow-2xl relative flex flex-col justify-center'
          >
            <div
              class='absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-indigo-500 to-purple-500'
            ></div>
            <h4
              class='text-[10px] font-black text-indigo-400 uppercase mb-6 tracking-[0.3em] flex items-center gap-2'
            >
              <span
                class='w-2 h-2 bg-indigo-500 rounded-full animate-pulse'
              ></span>
              AI Insights
            </h4>
            <p
              class='text-base text-slate-300 leading-relaxed font-medium italic'
            >
              "The infrastructure shows strong secrets management but suffers
              from weak TLS configurations and inconsistent patching cycles.
              Immediate attention is required for public-facing service
              encryption."
            </p>
          </div>
        </div>

        <div class='grid grid-cols-2 gap-x-10 gap-y-12'>
          <div class='space-y-4'>
            <h4
              class='text-sm font-black text-slate-800 uppercase tracking-widest border-emerald-500 pl-4'
            >1. Asset Inventory Control</h4>
            <div
              class='text-sm text-slate-600 leading-relaxed whitespace-pre-wrap ml-5 bg-slate-50/50 p-4 rounded-xl border border-slate-100'
            >{{hbsTextarea
                'content.infrastructure.assets'
                report.content.infrastructure.assets
                'text-sm text-slate-600'
              }}</div>
          </div>
          <div class='space-y-4'>
            <h4
              class='text-sm font-black text-slate-800 uppercase tracking-widest border-orange-500 pl-4'
            >2. Outer-Perimeter Exposure</h4>
            <div
              class='text-sm text-slate-600 leading-relaxed whitespace-pre-wrap ml-5 bg-slate-50/50 p-4 rounded-xl border border-slate-100'
            >{{hbsTextarea
                'content.infrastructure.networkExposure'
                report.content.infrastructure.networkExposure
                'text-sm text-slate-600'
              }}</div>
          </div>
          <div class='space-y-4'>
            <h4
              class='text-sm font-black text-slate-800 uppercase tracking-widest border-blue-500 pl-4'
            >3. Hybrid-Cloud Configuration</h4>
            <div
              class='text-sm text-slate-600 leading-relaxed whitespace-pre-wrap ml-5 bg-slate-50/50 p-4 rounded-xl border border-slate-100'
            >{{hbsTextarea
                'content.infrastructure.misconfig'
                report.content.infrastructure.misconfig
                'text-sm text-slate-600'
              }}</div>
          </div>
          <div class='space-y-4'>
            <h4
              class='text-sm font-black text-slate-800 uppercase tracking-widest border-purple-500 pl-4'
            >4. Transport Layer Security</h4>
            <div
              class='text-sm text-slate-600 leading-relaxed whitespace-pre-wrap ml-5 bg-slate-50/50 p-4 rounded-xl border border-slate-100'
            >{{hbsTextarea
                'content.infrastructure.tls'
                report.content.infrastructure.tls
                'text-sm text-slate-600'
              }}</div>
          </div>
          <div class='space-y-4'>
            <h4
              class='text-sm font-black text-slate-800 uppercase tracking-widest border-teal-500 pl-4'
            >5. Identity Authorization Vault</h4>
            <div
              class='text-sm text-slate-600 leading-relaxed whitespace-pre-wrap ml-5 bg-slate-50/50 p-4 rounded-xl border border-slate-100'
            >{{hbsTextarea
                'content.infrastructure.secrets'
                report.content.infrastructure.secrets
                'text-sm text-slate-600'
              }}</div>
          </div>
          <div class='space-y-4'>
            <h4
              class='text-sm font-black text-slate-800 uppercase tracking-widest border-indigo-500 pl-4'
            >6. Security Hardening Strategy</h4>
            <div
              class='text-sm text-slate-600 leading-relaxed whitespace-pre-wrap ml-5 bg-slate-50/50 p-4 rounded-xl border border-slate-100'
            >{{hbsTextarea
                'content.infrastructure.hardening'
                report.content.infrastructure.hardening
                'text-sm text-slate-600'
              }}</div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <div
        class='mt-auto border-t-2 border-slate-100 pt-12 text-center relative'
      >
        <div
          class='absolute top-0 left-1/2 -translate-x-1/2 w-48 h-1.5 bg-slate-800 rounded-full'
        ></div>
        <p
          class='text-[12px] font-black uppercase tracking-[0.6em] text-slate-400 mb-3'
        >Proprietary & Highly Confidential</p>
        <p
          class='text-[10px] text-slate-300 font-bold max-w-2xl mx-auto leading-relaxed'
        >
          &copy;
          {{year}}
          Open ASM Global Security Operations Team. This document is provided
          for internal security assessment purposes only.
        </p>
      </div>
    </div>

    <script>
      new Chart(document.getElementById('postureChart'), { type: 'bar', data: {
      labels: ['Network Security', 'Cloud Isolation', 'Data Encryption',
      'Secrets Vaulting', 'Patch Lifecycle'], datasets: [{ label: 'Hardening
      Level', data:
      {{{json postureData}}}, backgroundColor: ['rgba(16, 185, 129, 0.5)',
      'rgba(16, 185, 129, 0.5)', 'rgba(239, 68, 68, 0.5)', 'rgba(16, 185, 129,
      0.5)', 'rgba(245, 158, 11, 0.5)'], borderRadius: 15, borderWidth: 0,
      barThickness: 40 }] }, options: { indexAxis: 'y', plugins: { legend: {
      display: false } }, scales: { x: { min: 0, max: 100, grid: { display:
      false }, ticks: { display: false }, border: { display: false } }, y: {
      grid: { display: false }, border: { display: false }, ticks: { font: {
      weight: '800', size: 11 }, color: '#475569' } } }, maintainAspectRatio:
      false } });
    </script>
  </body>
</html>