#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Prevent commits to main branch
# branch="$(git rev-parse --abbrev-ref HEAD)"
# if [ "$branch" = "main" ]; then
#   echo "Direct commits to the main branch are not allowed."
#   echo "Please create a feature branch and submit a pull request."
#   exit 1
# fi

# Run lint check
echo "Running lint check..."
cd core-api && npm run lint
if [ $? -ne 0 ]; then
  echo "Lint check failed. Please fix lint errors before committing."
  exit 1
fi
