{"openapi":"3.0.0","paths":{"/api/targets":{"post":{"description":"Creates a new target.","operationId":"TargetsController_createTarget","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTargetDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Target"}}}}},"summary":"Create a target","tags":["Targets"]},"get":{"description":"Retrieves all targets in a workspace.","operationId":"TargetsController_getTargetsInWorkspace","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"value","required":false,"in":"query","schema":{"type":"string"}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyGetManyTargetResponseDtoDto"}}}}},"summary":"Get all targets in a workspace","tags":["Targets"]}},"/api/targets/{id}":{"get":{"description":"Retrieves a target by its ID.","operationId":"TargetsController_getTargetById","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Target"}}}}},"summary":"Get a target by ID","tags":["Targets"]},"patch":{"description":"Updates a target.","operationId":"TargetsController_updateTarget","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTargetDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Target"}}}}},"summary":"Update a target","tags":["Targets"]}},"/api/targets/{id}/workspace/{workspaceId}":{"delete":{"description":"Deletes a target from a workspace.","operationId":"TargetsController_deleteTargetFromWorkspace","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}},{"name":"workspaceId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Delete a target from a workspace","tags":["Targets"]}},"/api/targets/{id}/re-scan":{"post":{"description":"Rescans a target and triggers a new scan job.","operationId":"TargetsController_reScanTarget","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Rescan a target","tags":["Targets"]}},"/api/workspaces":{"post":{"description":"Creates a new workspace.","operationId":"WorkspacesController_createWorkspace","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWorkspaceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Workspace"}}}}},"summary":"Create Workspace","tags":["Workspaces"]},"get":{"description":"Retrieves a list of workspaces that the user is a member of.","operationId":"WorkspacesController_getWorkspaces","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"isArchived","required":false,"in":"query","description":"Whether to archive (true) or unarchive (false) the workspace","schema":{"example":true,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyWorkspaceDto"}}}}},"summary":"Get Workspaces","tags":["Workspaces"]}},"/api/workspaces/api-key":{"get":{"description":"Retrieves the API key for a workspace.","operationId":"WorkspacesController_getWorkspaceApiKey","parameters":[{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetApiKeyResponseDto"}}}}},"summary":"Get workspace API key","tags":["Workspaces"]}},"/api/workspaces/{id}":{"get":{"description":"Retrieves a workspace by its ID.","operationId":"WorkspacesController_getWorkspaceById","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Workspace"}}}}},"summary":"Get Workspace By ID","tags":["Workspaces"]},"patch":{"description":"Updates a workspace by its ID.","operationId":"WorkspacesController_updateWorkspace","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWorkspaceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Update Workspace","tags":["Workspaces"]},"delete":{"description":"Deletes a workspace by its ID.","operationId":"WorkspacesController_deleteWorkspace","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Delete Workspace","tags":["Workspaces"]}},"/api/workspaces/{id}/api-key/rotate":{"post":{"description":"Regenerates the API key for a workspace.","operationId":"WorkspacesController_rotateApiKey","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetApiKeyResponseDto"}}}}},"summary":"Rotate API key","tags":["Workspaces"]}},"/api/workspaces/{id}/archived":{"patch":{"description":"Sets the archived status of a workspace.","operationId":"WorkspacesController_makeArchived","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArchiveWorkspaceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Archive/Unarchive Workspace","tags":["Workspaces"]}},"/api/health":{"get":{"operationId":"RootController_getHealth","parameters":[],"responses":{"200":{"description":""}},"tags":["Root"]}},"/api/init-admin":{"post":{"description":"Creates the first admin user in the system.","operationId":"RootController_createFirstAdmin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFirstAdminDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Creates the first admin user in the system.","tags":["Root"]}},"/api/metadata":{"get":{"description":"Returns metadata about the system state, like whether it has been initialized.","operationId":"RootController_getMetadata","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetMetadataDto"}}}}},"summary":"Get system metadata.","tags":["Root"]}},"/api/jobs-registry":{"get":{"description":"Retrieves a list of jobs that the user is a member of.","operationId":"JobsRegistryController_getManyJobs","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyJobDto"}}}}},"summary":"Get Jobs","tags":["JobsRegistry"]},"post":{"operationId":"JobsRegistryController_createJobsForTarget","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateJobsDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}]}}}}},"summary":"Creates a new job associated with the given asset and worker name.","tags":["JobsRegistry"]}},"/api/jobs-registry/{workerId}/next":{"get":{"operationId":"JobsRegistryController_getNextJob","parameters":[{"name":"workerId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetNextJobResponseDto"}}}}},"summary":"Retrieves the next job associated with the given worker that has not yet been started.","tags":["JobsRegistry"]}},"/api/jobs-registry/{workerId}/result":{"post":{"operationId":"JobsRegistryController_updateResult","parameters":[{"name":"workerId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateResultDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}]}}}}},"summary":"Updates the result of a job with the given worker ID.","tags":["JobsRegistry"]}},"/api/assets":{"get":{"description":"Retrieves a list of assets associated with the given target.","operationId":"AssetsController_getAssetsInWorkspace","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"value","required":false,"in":"query","schema":{"type":"string"}},{"name":"targetIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ipAddresses","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ports","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"techs","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"statusCodes","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyGetAssetsResponseDtoDto"}}}}},"summary":"Get assets in target","tags":["Assets"]}},"/api/assets/ip":{"get":{"description":"Retrieves a list of ip with number of assets.","operationId":"AssetsController_getIpAssets","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"value","required":false,"in":"query","schema":{"type":"string"}},{"name":"targetIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ipAddresses","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ports","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"techs","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"statusCodes","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyGetIpAssetsDTODto"}}}}},"summary":"Get IP asset","tags":["Assets"]}},"/api/assets/port":{"get":{"description":"Retrieves a list of port with number of assets.","operationId":"AssetsController_getPortAssets","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"value","required":false,"in":"query","schema":{"type":"string"}},{"name":"targetIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ipAddresses","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ports","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"techs","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"statusCodes","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyGetPortAssetsDTODto"}}}}},"summary":"Get ports and number of assets","tags":["Assets"]}},"/api/assets/tech":{"get":{"description":"Retrieves a list of technologies with number of assets.","operationId":"AssetsController_getTechnologyAssets","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"value","required":false,"in":"query","schema":{"type":"string"}},{"name":"targetIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ipAddresses","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ports","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"techs","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"statusCodes","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyGetTechnologyAssetsDTODto"}}}}},"summary":"Get technologies along with number of assets","tags":["Assets"]}},"/api/assets/status-code":{"get":{"description":"Retrieves a list of technologies with number of assets.","operationId":"AssetsController_getStatusCodeAssets","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"value","required":false,"in":"query","schema":{"type":"string"}},{"name":"targetIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ipAddresses","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"ports","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"techs","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"statusCodes","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyGetStatusCodeAssetsDTODto"}}}}},"summary":"Get technologies along with number of assets","tags":["Assets"]}},"/api/assets/{id}":{"get":{"description":"Retrieves a single asset by its ID.","operationId":"AssetsController_getAssetById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetAssetsResponseDto"}}}}},"summary":"Get asset by ID","tags":["Assets"]},"patch":{"description":"Updates an asset by its ID. Only tags can be updated.","operationId":"AssetsController_updateAssetById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAssetDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetAssetsResponseDto"}}}}},"summary":"Update asset by ID","tags":["Assets"]}},"/api/technology/{name}":{"get":{"description":"Retrieves detailed information about a specific technology.","operationId":"TechnologyController_getTechnologyInfo","parameters":[{"name":"name","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/TechnologyDetailDTO"}}}}},"summary":"Get technology information","tags":["Technology"]}},"/api/workers/alive":{"post":{"description":"Worker alive","operationId":"WorkersController_alive","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerAliveDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Worker alive","tags":["Workers"]}},"/api/workers/join":{"post":{"description":"Worker join the cluster","operationId":"WorkersController_join","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerJoinDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/WorkerInstance"}}}}},"summary":"Worker join","tags":["Workers"]}},"/api/workers":{"get":{"operationId":"WorkersController_getWorkers","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"workspaceId","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyWorkerInstanceDto"}}}}},"summary":"Gets all workers with pagination and sorting.","tags":["Workers"]}},"/api/search":{"get":{"description":"Search assets and targets","operationId":"SearchController_searchAssetsTargets","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"value","required":true,"in":"query","schema":{"type":"string"}},{"name":"workspaceId","required":true,"in":"query","schema":{"type":"string"}},{"name":"isSaveHistory","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/SearchResponseDto"}}}}},"summary":"Search assets and targets","tags":["Search"]}},"/api/search/histories":{"get":{"description":"Get search history","operationId":"SearchController_getSearchHistory","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"workspaceId","required":true,"in":"query","schema":{"type":"string"}},{"name":"query","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyGetSearchHistoryResponseDtoDto"}}}}},"summary":"Get search history","tags":["Search"]},"delete":{"description":"Delete all search history entries for the user","operationId":"SearchController_deleteAllSearchHistories","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DeleteResponseDto"}}}}},"summary":"Delete all search history","tags":["Search"]}},"/api/search/histories/{id}":{"delete":{"description":"Delete a specific search history entry by its ID","operationId":"SearchController_deleteSearchHistory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DeleteResponseDto"}}}}},"summary":"Delete search history by ID","tags":["Search"]}},"/api/tools":{"post":{"description":"Creates a new tool with the provided information.","operationId":"ToolsController_createTool","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateToolDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Tool"}}}}},"summary":"Create a new tool","tags":["Tools"]},"get":{"description":"Retrieves a list of tools with pagination.","operationId":"ToolsController_getManyTools","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"type","required":false,"in":"query","schema":{"type":"string","enum":["built_in","provider"]}},{"name":"category","required":false,"in":"query","schema":{"type":"string","enum":["subdomains","http_probe","ports_scanner","vulnerabilities","classifier"]}},{"name":"workspaceId","required":false,"in":"query","schema":{"type":"string"}},{"name":"providerId","required":false,"in":"query","schema":{"type":"string"}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyToolDto"}}}}},"summary":"Get tools","tags":["Tools"]}},"/api/tools/{id}/run":{"post":{"description":"Runs a tool with the provided information.","operationId":"ToolsController_runTool","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunToolDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Run a tool","tags":["Tools"]}},"/api/tools/add-to-workspace":{"post":{"description":"Adds a tool to a specific workspace.","operationId":"ToolsController_addToolToWorkspace","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddToolToWorkspaceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/WorkspaceTool"}}}}},"summary":"Add tool to workspace","tags":["Tools"]}},"/api/tools/install":{"post":{"description":"Installs a tool to a specific workspace, checking for duplicates before insertion.","operationId":"ToolsController_installTool","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstallToolDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/WorkspaceTool"}}}}},"summary":"Install tool","tags":["Tools"]}},"/api/tools/uninstall":{"post":{"description":"Uninstalls a tool from a specific workspace by removing the record from workspace_tools table.","operationId":"ToolsController_uninstallTool","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstallToolDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Uninstall tool","tags":["Tools"]}},"/api/tools/built-in-tools":{"get":{"operationId":"ToolsController_getBuiltInTools","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyToolDto"}}}}},"summary":"Get built-in tools","tags":["Tools"]}},"/api/tools/installed":{"get":{"description":"Retrieves a list of installed tools for a specific workspace, including built-in tools.","operationId":"ToolsController_getInstalledTools","parameters":[{"name":"workspaceId","required":true,"in":"query","description":"The ID of the workspace","schema":{"type":"string"}},{"name":"category","required":false,"in":"query","schema":{"type":"string","enum":["subdomains","http_probe","ports_scanner","vulnerabilities","classifier"]}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyToolDto"}}}}},"summary":"Get installed tools for a workspace","tags":["Tools"]}},"/api/tools/{id}":{"get":{"description":"Retrieves a tool by its unique identifier.","operationId":"ToolsController_getToolById","parameters":[{"name":"id","required":true,"in":"path","description":"The ID of the tool","schema":{"type":"string"}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Tool"}}}}},"summary":"Get tool by ID","tags":["Tools"]}},"/api/tools/{id}/api-key":{"get":{"description":"Retrieves the API key for a tool.","operationId":"ToolsController_getToolApiKey","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}},{"name":"X-Workspace-Id","in":"header","description":"Workspace ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetApiKeyResponseDto"}}}}},"summary":"Get tool API key","tags":["Tools"]}},"/api/tools/{id}/api-key/rotate":{"post":{"description":"Regenerates the API key for a tool.","operationId":"ToolsController_rotateToolApiKey","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetApiKeyResponseDto"}}}}},"summary":"Rotate tool API key","tags":["Tools"]}},"/api/vulnerabilities/scan":{"post":{"operationId":"VulnerabilitiesController_scan","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScanDto"}}}},"responses":{"201":{"description":""}},"tags":["Vulnerabilities"]}},"/api/vulnerabilities":{"get":{"description":"Get vulnerabilities","operationId":"VulnerabilitiesController_getVulnerabilities","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"workspaceId","required":true,"in":"query","schema":{"type":"string"}},{"name":"targetIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}},{"name":"q","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyVulnerabilityDto"}}}}},"summary":"Get vulnerabilities","tags":["Vulnerabilities"]}},"/api/vulnerabilities/statistics":{"get":{"description":"Get count of vulnerabilities by severity level","operationId":"VulnerabilitiesController_getVulnerabilitiesStatistics","parameters":[{"name":"workspaceId","required":true,"in":"query","schema":{"type":"string"}},{"name":"targetIds","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetVulnerabilitiesStatisticsResponseDto"}}}}},"summary":"Get vulnerabilities statistics","tags":["Vulnerabilities"]}},"/api/vulnerabilities/severity":{"get":{"description":"Get count of vulnerabilities by severity level based on workspaceId -> target -> assets -> vuls relation path","operationId":"VulnerabilitiesController_getVulnerabilitiesSeverity","parameters":[{"name":"workspaceId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetVulnerabilitiesSeverityResponseDto"}}}}},"summary":"Get vulnerabilities severity counts","tags":["Vulnerabilities"]}},"/api/workflows/templates":{"get":{"description":"Retrieves a list of all available workflow templates in YAML format.","operationId":"WorkflowsController_listTemplates","parameters":[],"responses":{"200":{"description":"List of workflow template filenames","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyStringDto"}}}}},"summary":"Get all workflow templates","tags":["workflows"]}},"/api/statistic":{"get":{"description":"Retrieves statistics for a workspace including total targets, assets, vulnerabilities, and unique technologies.","operationId":"StatisticController_getStatistics","parameters":[{"name":"workspaceId","required":true,"in":"query","description":"The ID of the workspace to get statistics for","schema":{"example":"123e4567-e89b-12d3-a456-426614174000","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/StatisticResponseDto"}}}}},"summary":"Get workspace statistics","tags":["Statistic"]}},"/api/providers":{"get":{"description":"Get all providers with pagination, filtered by owner","operationId":"ProvidersController_getManyProviders","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}},{"name":"name","required":false,"in":"query","schema":{"example":"OpenAI","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyToolProviderDto"}}}}},"summary":"Get all providers","tags":["Providers"]},"post":{"description":"Create a new provider","operationId":"ProvidersController_createProvider","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProviderDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/ToolProvider"}}}}},"summary":"Create a new provider","tags":["Providers"]}},"/api/providers/{id}":{"get":{"description":"Get detailed information about a specific provider","operationId":"ProvidersController_getProvider","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/ToolProvider"}}}}},"summary":"Get a provider by ID","tags":["Providers"]},"patch":{"description":"Update an existing provider by ID","operationId":"ProvidersController_updateProvider","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProviderDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/ToolProvider"}}}}},"summary":"Update a provider","tags":["Providers"]},"delete":{"description":"Soft delete a provider by ID","operationId":"ProvidersController_deleteProvider","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Delete a provider","tags":["Providers"]}},"/api/storage/upload":{"post":{"operationId":"StorageController_uploadFile","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"},"bucket":{"type":"string","description":"Bucket name (default: \"default\")","example":"default"}},"required":["file"]}}}},"responses":{"200":{"description":"File uploaded successfully","content":{"application/json":{"schema":{"type":"object","properties":{"path":{"type":"string","example":"default/9bea7ee3-ddc3-4215-a9e6-74fa7b5be92f.png"},"bucket":{"type":"string","example":"default"},"fullPath":{"type":"string","example":"/default/9bea7ee3-ddc3-4215-a9e6-74fa7b5be92f.png"}}}}}}},"summary":"Upload a file to storage","tags":["Storage"]}},"/api/storage/{bucket}/{path}":{"get":{"operationId":"StorageController_getFile","parameters":[{"name":"bucket","required":true,"in":"path","schema":{"type":"string"}},{"name":"path","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"File retrieved successfully","content":{"application/octet-stream":{"schema":{"type":"string","format":"binary"}}}},"404":{"description":"File not found"}},"summary":"Get a file from storage (public)","tags":["Storage"]}},"/api/storage/forward":{"get":{"operationId":"StorageController_forwardImage","parameters":[{"name":"url","required":true,"in":"query","description":"The URL of the image to forward","schema":{"type":"string"}}],"responses":{"200":{"description":"Image forwarded successfully","content":{"image/*":{"schema":{"type":"string","format":"binary"}}}},"400":{"description":"Bad request - URL is required or invalid"},"404":{"description":"Image not found at the provided URL"}},"summary":"Forward an image from a URL","tags":["Storage"]}}},"info":{"title":"Open Attack Surface Management","description":"Open-source platform for cybersecurity Attack Surface Management (ASM)","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"JobStatus":{"type":"string","enum":["pending","in_progress","completed","failed","cancelled"]},"CronSchedule":{"type":"string","enum":["0 0 * * 0","0 0 */14 * *","0 0 1 * *"]},"Target":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"value":{"type":"string","example":"example.com","description":"The target domain (with optional URL path, will be parsed to extract domain)"},"lastDiscoveredAt":{"format":"date-time","type":"string"},"totalAssets":{"type":"number"},"status":{"allOf":[{"$ref":"#/components/schemas/JobStatus"}]},"scanSchedule":{"allOf":[{"$ref":"#/components/schemas/CronSchedule"}]}},"required":["id","createdAt","updatedAt","value","lastDiscoveredAt","totalAssets","status","scanSchedule"]},"AppResponseSerialization":{"type":"object","properties":{}},"CreateTargetDto":{"type":"object","properties":{"value":{"type":"string","example":"example.com","description":"The target domain (with optional URL path, will be parsed to extract domain)"},"workspaceId":{"type":"string","example":"xxxxxxxx","description":"The id of the workspace"}},"required":["value","workspaceId"]},"GetManyTargetResponseDto":{"type":"object","properties":{"id":{"type":"string"},"value":{"type":"string"},"reScanCount":{"type":"number"},"scanSchedule":{"type":"string","enum":["0 0 * * 0","0 0 */14 * *","0 0 1 * *"]},"status":{"type":"string","enum":["RUNNING","DONE"],"example":"DONE"},"totalAssets":{"type":"number","example":100},"duration":{"type":"number"},"lastDiscoveredAt":{"format":"date-time","type":"string"}},"required":["id","value","reScanCount","scanSchedule","status","totalAssets","duration","lastDiscoveredAt"]},"GetManyGetManyTargetResponseDtoDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/GetManyTargetResponseDto"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"DefaultMessageResponseDto":{"type":"object","properties":{"message":{"type":"string","example":"Success"}},"required":["message"]},"UpdateTargetDto":{"type":"object","properties":{"scanSchedule":{"type":"string","enum":["0 0 * * 0","0 0 */14 * *","0 0 1 * *"]}},"required":["scanSchedule"]},"Workspace":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"name":{"type":"string","example":"My Workspace","description":"The name of the workspace"},"description":{"type":"string","example":"This is my workspace","description":"The description of the workspace"},"archivedAt":{"type":"object"}},"required":["id","createdAt","updatedAt","name","description"]},"CreateWorkspaceDto":{"type":"object","properties":{"name":{"type":"string","example":"My Workspace","description":"The name of the workspace"},"description":{"type":"string","example":"This is my workspace","description":"The description of the workspace"},"archivedAt":{"type":"object"}},"required":["name","description"]},"GetApiKeyResponseDto":{"type":"object","properties":{"apiKey":{"type":"string"}},"required":["apiKey"]},"GetManyWorkspaceDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Workspace"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"UpdateWorkspaceDto":{"type":"object","properties":{"name":{"type":"string","example":"My Workspace","description":"The name of the workspace"},"description":{"type":"string","example":"This is my workspace","description":"The description of the workspace"},"archivedAt":{"type":"object"}}},"ArchiveWorkspaceDto":{"type":"object","properties":{"isArchived":{"type":"boolean","example":true,"description":"Whether to archive (true) or unarchive (false) the workspace"}},"required":["isArchived"]},"CreateFirstAdminDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"GetMetadataDto":{"type":"object","properties":{"isInit":{"type":"boolean"}},"required":["isInit"]},"Job":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"category":{"type":"string"},"status":{"type":"string"},"pickJobAt":{"format":"date-time","type":"string"},"completedAt":{"format":"date-time","type":"string"}},"required":["id","createdAt","updatedAt","category","status","pickJobAt","completedAt"]},"GetManyJobDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Job"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"GetNextJobResponseDto":{"type":"object","properties":{"jobId":{"type":"string"},"value":{"type":"string"},"category":{"type":"string"},"command":{"type":"string","description":"Command to run"}},"required":["jobId","value","category","command"]},"DataPayloadResult":{"type":"object","properties":{"error":{"type":"boolean"},"raw":{"type":"string"},"payload":{"type":"object"}},"required":["error","raw","payload"]},"UpdateResultDto":{"type":"object","properties":{"jobId":{"type":"string"},"data":{"$ref":"#/components/schemas/DataPayloadResult"}},"required":["jobId","data"]},"CreateJobsDto":{"type":"object","properties":{"toolIds":{"type":"array","items":{"type":"string"}},"targetId":{"type":"string"}},"required":["toolIds","targetId"]},"PickTypeClass":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"required":["id","name"]},"AssetTag":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"tag":{"type":"string"},"tool":{"$ref":"#/components/schemas/PickTypeClass"}},"required":["id","createdAt","updatedAt","tag","tool"]},"TlsInfo":{"type":"object","properties":{"host":{"type":"string"},"port":{"type":"string"},"probe_status":{"type":"boolean"},"tls_version":{"type":"string"},"cipher":{"type":"string"},"not_before":{"type":"string"},"not_after":{"type":"string"},"subject_dn":{"type":"string"},"subject_cn":{"type":"string"},"subject_an":{"type":"array","items":{"type":"string"}},"serial":{"type":"string"},"issuer_dn":{"type":"string"},"issuer_cn":{"type":"string"},"issuer_org":{"type":"array","items":{"type":"string"}},"fingerprint_hash":{"type":"object"},"wildcard_certificate":{"type":"boolean"},"tls_connection":{"type":"string"},"sni":{"type":"string"}},"required":["host","port","probe_status","tls_version","cipher","not_before","not_after","subject_dn","subject_cn","subject_an","serial","issuer_dn","issuer_cn","issuer_org","fingerprint_hash","wildcard_certificate","tls_connection","sni"]},"KnowledgebaseInfo":{"type":"object","properties":{"PageType":{"type":"string"},"pHash":{"type":"number"}},"required":["PageType","pHash"]},"HttpResponseDTO":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"timestamp":{"format":"date-time","type":"string"},"tls":{"$ref":"#/components/schemas/TlsInfo"},"port":{"type":"string"},"url":{"type":"string"},"input":{"type":"string"},"title":{"type":"string"},"scheme":{"type":"string"},"webserver":{"type":"string"},"body":{"type":"string"},"content_type":{"type":"string"},"method":{"type":"string"},"host":{"type":"string"},"path":{"type":"string"},"favicon":{"type":"string"},"favicon_md5":{"type":"string"},"favicon_url":{"type":"string"},"header":{"type":"object"},"raw_header":{"type":"string"},"request":{"type":"string"},"time":{"type":"string"},"a":{"type":"array","items":{"type":"string"}},"tech":{"type":"array","items":{"type":"string"}},"words":{"type":"number"},"lines":{"type":"number"},"status_code":{"type":"number"},"content_length":{"type":"number"},"failed":{"type":"boolean"},"knowledgebase":{"$ref":"#/components/schemas/KnowledgebaseInfo"},"resolvers":{"type":"array","items":{"type":"string"}},"chain_status_codes":{"type":"array","items":{"type":"string"}},"assetId":{"type":"string"},"jobHistoryId":{"type":"string"},"techList":{"type":"array","items":{"type":"string"}}},"required":["id","createdAt","updatedAt","timestamp","tls","port","url","input","title","scheme","webserver","body","content_type","method","host","path","favicon","favicon_md5","favicon_url","header","raw_header","request","time","a","tech","words","lines","status_code","content_length","failed","knowledgebase","resolvers","chain_status_codes","assetId","jobHistoryId","techList"]},"Port":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"ports":{"type":"array","items":{"type":"string"}},"assetId":{"type":"string"},"jobHistoryId":{"type":"string"}},"required":["id","createdAt","updatedAt","ports","assetId","jobHistoryId"]},"GetAssetsResponseDto":{"type":"object","properties":{"id":{"type":"string"},"value":{"type":"string"},"targetId":{"type":"string"},"isPrimary":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"tags":{"type":"array","items":{"$ref":"#/components/schemas/AssetTag"}},"dnsRecords":{"type":"object"},"ipAddresses":{"type":"array","items":{"type":"string"}},"httpResponses":{"$ref":"#/components/schemas/HttpResponseDTO"},"ports":{"$ref":"#/components/schemas/Port"}},"required":["id","value","targetId","createdAt","updatedAt","tags","ipAddresses"]},"GetManyGetAssetsResponseDtoDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/GetAssetsResponseDto"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"GetIpAssetsDTO":{"type":"object","properties":{"ip":{"type":"string"},"assetCount":{"type":"number"}},"required":["ip","assetCount"]},"GetManyGetIpAssetsDTODto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/GetIpAssetsDTO"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"GetPortAssetsDTO":{"type":"object","properties":{"port":{"type":"string"},"assetCount":{"type":"number"}},"required":["port","assetCount"]},"GetManyGetPortAssetsDTODto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/GetPortAssetsDTO"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"TechnologyDetailDTO":{"type":"object","properties":{"name":{"type":"string"},"cats":{"type":"array","items":{"type":"string"}},"description":{"type":"string"},"html":{"type":"array","items":{"type":"string"}},"icon":{"type":"string"},"implies":{"type":"array","items":{"type":"string"}},"js":{"type":"object"},"oss":{"type":"boolean"},"scriptSrc":{"type":"array","items":{"type":"string"}},"website":{"type":"string"},"pricing":{"type":"array","items":{"type":"string"}},"saas":{"type":"boolean"},"dom":{"type":"array","items":{"type":"string"}},"meta":{"type":"object"},"headers":{"type":"object"},"cookies":{"type":"object"},"dns":{"type":"object"},"url":{"type":"array","items":{"type":"string"}},"scripts":{"type":"array","items":{"type":"string"}},"xhr":{"type":"array","items":{"type":"string"}},"requires":{"type":"array","items":{"type":"string"}},"categories":{"type":"array","items":{"type":"string"}},"iconUrl":{"type":"string"},"categoryNames":{"type":"array","items":{"type":"string"}}},"required":["name"]},"GetTechnologyAssetsDTO":{"type":"object","properties":{"technology":{"$ref":"#/components/schemas/TechnologyDetailDTO"},"assetCount":{"type":"number"}},"required":["technology","assetCount"]},"GetManyGetTechnologyAssetsDTODto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/GetTechnologyAssetsDTO"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"GetStatusCodeAssetsDTO":{"type":"object","properties":{"statusCode":{"type":"string"},"assetCount":{"type":"number"}},"required":["statusCode","assetCount"]},"GetManyGetStatusCodeAssetsDTODto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/GetStatusCodeAssetsDTO"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"UpdateAssetDto":{"type":"object","properties":{"tags":{"nullable":true,"default":[],"type":"array","items":{"type":"string"}}},"required":["tags"]},"WorkerAliveDto":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]},"WorkerInstance":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"lastSeenAt":{"format":"date-time","type":"string"},"token":{"type":"string"},"currentJobsCount":{"type":"number"},"type":{"type":"string"},"scope":{"type":"string"}},"required":["id","createdAt","updatedAt","lastSeenAt","token","currentJobsCount","type","scope"]},"WorkerJoinDto":{"type":"object","properties":{"apiKey":{"type":"string"}},"required":["apiKey"]},"GetManyWorkerInstanceDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/WorkerInstance"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"Asset":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"value":{"type":"string"},"targetId":{"type":"string"},"isPrimary":{"type":"boolean"},"dnsRecords":{"type":"object"},"isErrorPage":{"type":"boolean"}},"required":["id","createdAt","updatedAt","value","targetId","isPrimary","dnsRecords","isErrorPage"]},"SearchData":{"type":"object","properties":{"assets":{"type":"array","items":{"$ref":"#/components/schemas/Asset"}},"targets":{"type":"array","items":{"$ref":"#/components/schemas/Target"}}},"required":["assets","targets"]},"SearchResponseDto":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/SearchData"},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"pageCount":{"type":"number"},"hasNextPage":{"type":"boolean"}},"required":["data","total","page","limit","pageCount","hasNextPage"]},"GetSearchHistoryResponseDto":{"type":"object","properties":{"id":{"type":"string"},"query":{"type":"string"},"workspaceId":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","query","workspaceId","createdAt","updatedAt"]},"GetManyGetSearchHistoryResponseDtoDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/GetSearchHistoryResponseDto"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"DeleteResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Trạng thái xóa thành công","example":true}},"required":["success"]},"Tool":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"name":{"type":"string"},"description":{"type":"string"},"category":{"type":"string","enum":["subdomains","http_probe","ports_scanner","vulnerabilities","classifier"]},"version":{"type":"string"},"logoUrl":{"type":"string","nullable":true},"isInstalled":{"type":"boolean"},"isOfficialSupport":{"type":"boolean"},"type":{"type":"string"},"providerId":{"type":"string"}},"required":["id","createdAt","updatedAt","name","description","category","version","isInstalled","isOfficialSupport","type","providerId"]},"CreateToolDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"category":{"type":"string","enum":["subdomains","http_probe","ports_scanner","vulnerabilities","classifier"]},"version":{"type":"string"},"logoUrl":{"type":"string","nullable":true},"providerId":{"type":"string","description":"The ID of the provider"}},"required":["name","description","category","version","providerId"]},"RunToolDto":{"type":"object","properties":{"targetIds":{"type":"array","items":{"type":"string"}}}},"WorkspaceTool":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","createdAt","updatedAt"]},"AddToolToWorkspaceDto":{"type":"object","properties":{"workspaceId":{"type":"string","description":"The ID of the workspace"},"toolId":{"type":"string","description":"The ID of the tool"}},"required":["workspaceId","toolId"]},"InstallToolDto":{"type":"object","properties":{"workspaceId":{"type":"string","description":"The ID of the workspace"},"toolId":{"type":"string","description":"The ID of the tool"}},"required":["workspaceId","toolId"]},"GetManyToolDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Tool"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"ScanDto":{"type":"object","properties":{"targetId":{"type":"string","description":"Target ID"}},"required":["targetId"]},"Vulnerability":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"name":{"type":"string"},"description":{"type":"string"},"severity":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"references":{"type":"array","items":{"type":"string"}},"authors":{"type":"array","items":{"type":"string"}},"affectedUrl":{"type":"string"},"ipAddress":{"type":"string"},"host":{"type":"string"},"port":{"type":"string"},"cvssMetric":{"type":"string"},"cvssScore":{"type":"number"},"cveId":{"type":"string"},"cweId":{"type":"array","items":{"type":"string"}},"extractorName":{"type":"string"},"extractedResults":{"type":"array","items":{"type":"string"}},"tool":{"$ref":"#/components/schemas/Tool"}},"required":["id","createdAt","updatedAt","name","description","severity","tags","references","authors","affectedUrl","ipAddress","host","port","cvssMetric","cvssScore","cveId","cweId","extractorName","extractedResults","tool"]},"GetManyVulnerabilityDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Vulnerability"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"VulnerabilityStatisticsDto":{"type":"object","properties":{"severity":{"type":"string","enum":["info","low","medium","high","critical"]},"count":{"type":"number"}},"required":["severity","count"]},"GetVulnerabilitiesStatisticsResponseDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/VulnerabilityStatisticsDto"}}},"required":["data"]},"VulnerabilitySeverityDto":{"type":"object","properties":{"severity":{"type":"string","enum":["info","low","medium","high","critical"]},"count":{"type":"number"}},"required":["severity","count"]},"GetVulnerabilitiesSeverityResponseDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/VulnerabilitySeverityDto"}}},"required":["data"]},"String":{"type":"object","properties":{}},"GetManyStringDto":{"type":"object","properties":{"data":{"type":"array","items":{"type":"string"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"StatisticResponseDto":{"type":"object","properties":{"totalTargets":{"type":"number","description":"Total number of targets in the workspace","example":10},"totalAssets":{"type":"number","description":"Total number of assets in the workspace","example":42},"totalVulnerabilities":{"type":"number","description":"Total number of vulnerabilities in the workspace","example":5},"totalUniqueTechnologies":{"type":"number","description":"Total number of unique technologies in the workspace","example":15}},"required":["totalTargets","totalAssets","totalVulnerabilities","totalUniqueTechnologies"]},"ToolProvider":{"type":"object","properties":{"id":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"name":{"type":"string","description":"Provider name"},"code":{"type":"string","description":"Unique code/slug for provider"},"description":{"type":"string","description":"Provider description"},"logoUrl":{"type":"string","description":"Logo URL"},"websiteUrl":{"type":"string","description":"Official website URL"},"supportEmail":{"type":"string","description":"Support email"},"company":{"type":"string","description":"Company name"},"licenseInfo":{"type":"string","description":"License info"},"apiDocsUrl":{"type":"string","description":"API documentation URL"},"isActive":{"type":"boolean","description":"Is provider active"}},"required":["id","createdAt","updatedAt","name","code","description","logoUrl","websiteUrl","supportEmail","company","licenseInfo","apiDocsUrl","isActive"]},"GetManyToolProviderDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ToolProvider"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"CreateProviderDto":{"type":"object","properties":{"name":{"type":"string","description":"Provider name"},"code":{"type":"string","description":"Unique code/slug for provider"},"description":{"type":"string","description":"Provider description"},"logoUrl":{"type":"string","description":"Logo URL"},"websiteUrl":{"type":"string","description":"Official website URL"},"supportEmail":{"type":"string","description":"Support email"},"company":{"type":"string","description":"Company name"},"licenseInfo":{"type":"string","description":"License info"},"apiDocsUrl":{"type":"string","description":"API documentation URL"}},"required":["name","code","description","logoUrl","websiteUrl","supportEmail","company","licenseInfo","apiDocsUrl"]},"UpdateProviderDto":{"type":"object","properties":{"name":{"type":"string","description":"Provider name"},"code":{"type":"string","description":"Unique code/slug for provider"},"description":{"type":"string","description":"Provider description"},"logoUrl":{"type":"string","description":"Logo URL"},"websiteUrl":{"type":"string","description":"Official website URL"},"supportEmail":{"type":"string","description":"Support email"},"company":{"type":"string","description":"Company name"},"licenseInfo":{"type":"string","description":"License info"},"apiDocsUrl":{"type":"string","description":"API documentation URL"}}}}},"externalDocs":{"description":"Authentication Docs","url":"auth/docs"}}