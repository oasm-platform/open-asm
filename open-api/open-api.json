{"openapi":"3.0.0","paths":{"/api/targets":{"post":{"description":"Creates a new target.","operationId":"TargetsController_createTarget","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTargetDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Create a target","tags":["Targets"]}},"/api/targets/{id}":{"get":{"description":"Retrieves a target by its ID.","operationId":"TargetsController_getTarget","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Target"}}}}},"summary":"Get a target by ID","tags":["Targets"]}},"/api/targets/workspace/{id}":{"get":{"description":"Retrieves all targets in a workspace.","operationId":"TargetsController_getTargetsInWorkspace","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyResponseDto"}}}}},"summary":"Get all targets in a workspace","tags":["Targets"]}},"/api/targets/{id}/workspace/{workspaceId}":{"delete":{"description":"Deletes a target from a workspace.","operationId":"TargetsController_deleteTargetFromWorkspace","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}},{"name":"workspaceId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Delete a target from a workspace","tags":["Targets"]}},"/api/workspaces":{"post":{"description":"Creates a new workspace.","operationId":"WorkspacesController_createWorkspace","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWorkspaceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Workspace"}}}}},"summary":"Create Workspace","tags":["Workspaces"]},"get":{"description":"Retrieves a list of workspaces that the user is a member of.","operationId":"WorkspacesController_getWorkspaces","parameters":[{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyResponseDto"}}}}},"summary":"Get Workspaces","tags":["Workspaces"]}},"/api/workspaces/{id}":{"get":{"description":"Retrieves a workspace by its ID.","operationId":"WorkspacesController_getWorkspaceById","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/Workspace"}}}}},"summary":"Get Workspace By ID","tags":["Workspaces"]},"patch":{"description":"Updates a workspace by its ID.","operationId":"WorkspacesController_updateWorkspace","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWorkspaceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Update Workspace","tags":["Workspaces"]},"delete":{"description":"Deletes a workspace by its ID.","operationId":"WorkspacesController_deleteWorkspace","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Delete Workspace","tags":["Workspaces"]}},"/":{"get":{"operationId":"RootController_getHealth","parameters":[],"responses":{"200":{"description":""}},"tags":["Root"]}},"/api/init-admin":{"post":{"description":"Creates the first admin user in the system.","operationId":"RootController_createFirstAdmin","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFirstAdminDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/DefaultMessageResponseDto"}}}}},"summary":"Creates the first admin user in the system.","tags":["Root"]}},"/api/jobs-registry/{workerId}/next":{"get":{"operationId":"JobsRegistryController_getNextJob","parameters":[{"name":"workerId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetNextJobResponseDto"}}}}},"summary":"Retrieves the next job associated with the given worker that has not yet been started.","tags":["JobsRegistry"]}},"/api/jobs-registry/{workerId}/result":{"post":{"operationId":"JobsRegistryController_updateResult","parameters":[{"name":"workerId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateResultDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}]}}}}},"summary":"Updates the result of a job with the given worker ID.","tags":["JobsRegistry"]}},"/api/assets/target/{id}":{"get":{"description":"Retrieves a list of assets associated with the given target.","operationId":"AssetsController_getAllAssetsInTarget","parameters":[{"name":"id","required":true,"in":"path","description":"The id of the resource","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"example":10,"type":"number"}},{"name":"sortBy","required":false,"in":"query","schema":{"example":"createdAt","type":"string"}},{"name":"sortOrder","required":false,"in":"query","schema":{"example":"DESC","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AppResponseSerialization"}],"$ref":"#/components/schemas/GetManyResponseDto"}}}}},"summary":"Get assets in target","tags":["Assets"]}},"/api/workers/{workerNameId}/alive":{"get":{"operationId":"WorkersController_alive","parameters":[{"name":"workerNameId","required":true,"in":"path","description":"Unique identifier for the worker","schema":{"type":"string","enum":["subdomains","httpx","ports"]}}],"responses":{"200":{"description":""}},"tags":["Workers"]}}},"info":{"title":"Open Attack Surface Management","description":"Open-source platform for cybersecurity Attack Surface Management (ASM)","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"DefaultMessageResponseDto":{"type":"object","properties":{"message":{"type":"string","example":"Success"}},"required":["message"]},"AppResponseSerialization":{"type":"object","properties":{}},"CreateTargetDto":{"type":"object","properties":{"value":{"type":"string","example":"example.com","description":"The target domain (with optional URL path, will be parsed to extract domain)"},"workspaceId":{"type":"string","example":"xxxxxxxx","description":"The id of the workspace"}},"required":["value","workspaceId"]},"Target":{"type":"object","properties":{"value":{"type":"string","example":"example.com","description":"The target domain (with optional URL path, will be parsed to extract domain)"}},"required":["value"]},"GetManyResponseDto":{"type":"object","properties":{"data":{"example":[{"id":1,"createdAt":"1970-01-01T00:00:00.000Z","updatedAt":"1970-01-01T00:00:00.000Z"}],"type":"array","items":{"type":"string"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"hasNextPage":{"type":"boolean"},"pageCount":{"type":"number"}},"required":["data","total","page","limit","hasNextPage","pageCount"]},"Workspace":{"type":"object","properties":{"name":{"type":"string","example":"My Workspace","description":"The name of the workspace"},"description":{"type":"string","example":"This is my workspace","description":"The description of the workspace"}},"required":["name","description"]},"CreateWorkspaceDto":{"type":"object","properties":{"name":{"type":"string","example":"My Workspace","description":"The name of the workspace"},"description":{"type":"string","example":"This is my workspace","description":"The description of the workspace"}},"required":["name","description"]},"UpdateWorkspaceDto":{"type":"object","properties":{"name":{"type":"string","example":"My Workspace","description":"The name of the workspace"},"description":{"type":"string","example":"This is my workspace","description":"The description of the workspace"}}},"CreateFirstAdminDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"GetNextJobResponseDto":{"type":"object","properties":{"jobId":{"type":"string"},"value":{"type":"string"},"workerName":{"type":"string"}},"required":["jobId","value","workerName"]},"UpdateResultDto":{"type":"object","properties":{"jobId":{"type":"string"},"data":{"type":"object"}},"required":["jobId","data"]}}},"externalDocs":{"description":"Authentication Docs","url":"auth/docs"}}